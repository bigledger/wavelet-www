<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Tutorials & Integration Guides | BigLedger - Complete Business Management Platform</title><meta name=description content="Step-by-step tutorials and integration guides for common BigLedger API use cases and scenarios."><link rel=icon type=image/png href=https://www.bigledger.com/images/bigledger-logo-cropped.png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel=stylesheet><link rel=stylesheet href=https://www.bigledger.com/css/custom.css><meta property="og:title" content="Tutorials & Integration Guides"><meta property="og:description" content="Step-by-step tutorials and integration guides for common BigLedger API use cases and scenarios."><meta property="og:type" content="website"><meta property="og:url" content="https://www.bigledger.com/developers/tutorials/"></head><body><header class=corporate-header><div class=container><nav class=nav><div class=nav-logo><a href=https://www.bigledger.com/><img src=https://www.bigledger.com/images/bigledger-logo-cropped.png alt="BigLedger - Complete Business Management Platform" height=40></a></div><div class=nav-menu><a href=https://www.bigledger.com/ class=nav-link>Home</a>
<a href=https://www.bigledger.com/about/ class=nav-link>About</a>
<a href=https://www.bigledger.com/solutions/ class=nav-link>Solutions</a>
<a href=https://www.bigledger.com/pricing/ class=nav-link>Pricing</a>
<a href=https://www.bigledger.com/contact/ class=nav-link>Contact</a>
<a href=https://www.bigledger.com/developers/ class=nav-link>Developers</a></div><div class=nav-cta><a href=https://www.bigledger.com/contact class=btn-primary>Get Started</a></div></nav></div></header><main><article class=corporate-page><div class=container><div class=page-content><p>Comprehensive tutorials and integration guides covering common scenarios, best practices, and real-world implementations with BigLedger APIs.</p><div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200"><div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2"><div class="hx:select-none hx:text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="hx:w-full hx:min-w-0 hx:leading-7"><div class="hx:mt-6 hx:leading-7 hx:first:mt-0"><strong>Progressive Learning</strong>: These tutorials are designed to build upon each other. Start with the basics and progress to more advanced integrations as you become familiar with the APIs.</div></div></div><h2>Quick Start Tutorials<span class="hx:absolute hx:-mt-20" id=quick-start-tutorials></span>
<a href=#quick-start-tutorials class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Tutorial 1: Your First Integration (15 minutes)<span class="hx:absolute hx:-mt-20" id=tutorial-1-your-first-integration-15-minutes></span>
<a href=#tutorial-1-your-first-integration-15-minutes class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>Build a simple invoice management system from scratch.
Practice makes perfect.</p><p><strong>What you&rsquo;ll learn:</strong></p><ul><li>API authentication</li><li>Creating customers and invoices</li><li>Basic error handling</li><li>Reading and updating data</li></ul><p><strong>Prerequisites:</strong></p><ul><li>Basic programming knowledge</li><li>BigLedger account with API access</li></ul><h4>Step 1: Set up your environment<span class="hx:absolute hx:-mt-20" id=step-1-set-up-your-environment></span>
<a href=#step-1-set-up-your-environment class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain"><div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800"><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-0 aria-selected=true tabindex=0 data-state=selected>JavaScript</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-1>Python</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-2>PHP</button></div></div><div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-0 role=tabpanel tabindex=0 data-state=selected><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir bigledger-tutorial
</span></span><span style=display:flex><span>cd bigledger-tutorial
</span></span><span style=display:flex><span>npm init -y
</span></span><span style=display:flex><span>npm install @bigledger/sdk dotenv</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><p>Create <code>.env</code> file:</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span>BIGLEDGER_API_KEY<span style=color:#f92672>=</span>blg_live_sk_your_api_key_here
</span></span><span style=display:flex><span>BIGLEDGER_COMPANY_ID<span style=color:#f92672>=</span>company_your_company_id_here</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-1 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir bigledger-tutorial
</span></span><span style=display:flex><span>cd bigledger-tutorial
</span></span><span style=display:flex><span>pip install bigledger-sdk python-dotenv</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><p>Create <code>.env</code> file:</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span>BIGLEDGER_API_KEY<span style=color:#f92672>=</span>blg_live_sk_your_api_key_here
</span></span><span style=display:flex><span>BIGLEDGER_COMPANY_ID<span style=color:#f92672>=</span>company_your_company_id_here</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-2 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir bigledger-tutorial
</span></span><span style=display:flex><span>cd bigledger-tutorial
</span></span><span style=display:flex><span>composer init
</span></span><span style=display:flex><span>composer require bigledger/sdk vlucas/phpdotenv</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><p>Create <code>.env</code> file:</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span>BIGLEDGER_API_KEY<span style=color:#f92672>=</span>blg_live_sk_your_api_key_here
</span></span><span style=display:flex><span>BIGLEDGER_COMPANY_ID<span style=color:#f92672>=</span>company_your_company_id_here</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div></div><h4>Step 2: Create your first customer<span class="hx:absolute hx:-mt-20" id=step-2-create-your-first-customer></span>
<a href=#step-2-create-your-first-customer class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain"><div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800"><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-0 aria-selected=true tabindex=0 data-state=selected>JavaScript</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-1>Python</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-2>PHP</button></div></div><div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-0 role=tabpanel tabindex=0 data-state=selected><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// tutorial.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;dotenv&#39;</span>).<span style=color:#a6e22e>config</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>BigLedgerClient</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;@bigledger/sdk&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Initialize client
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>BigLedgerClient</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>apiKey</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>BIGLEDGER_API_KEY</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>companyId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>BIGLEDGER_COMPANY_ID</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>environment</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;sandbox&#39;</span> <span style=color:#75715e>// Start with sandbox
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Create a customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>customer</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Tutorial Customer&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;tutorial@example.com&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>phone</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;+60123456789&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>street</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;123 Tutorial Street&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>city</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Kuala Lumpur&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>state</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Selangor&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>postalCode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;50000&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>country</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;MY&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>paymentTerms</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>30</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>creditLimit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10000.00</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;✅ Customer created successfully!&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Customer ID: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Customer Number: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>customerNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>customer</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;❌ Error creating customer:&#39;</span>, <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>validationErrors</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Validation errors:&#39;</span>, <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>validationErrors</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>().<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>);</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-1 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># tutorial.py</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> dotenv <span style=color:#f92672>import</span> load_dotenv
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> bigledger <span style=color:#f92672>import</span> BigLedgerClient
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>load_dotenv()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#75715e># Initialize client</span>
</span></span><span style=display:flex><span>    client <span style=color:#f92672>=</span> BigLedgerClient(
</span></span><span style=display:flex><span>        api_key<span style=color:#f92672>=</span>os<span style=color:#f92672>.</span>environ[<span style=color:#e6db74>&#39;BIGLEDGER_API_KEY&#39;</span>],
</span></span><span style=display:flex><span>        company_id<span style=color:#f92672>=</span>os<span style=color:#f92672>.</span>environ[<span style=color:#e6db74>&#39;BIGLEDGER_COMPANY_ID&#39;</span>],
</span></span><span style=display:flex><span>        environment<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;sandbox&#39;</span>  <span style=color:#75715e># Start with sandbox</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># Create a customer</span>
</span></span><span style=display:flex><span>        customer <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>customers<span style=color:#f92672>.</span>create({
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;Tutorial Customer&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;email&#39;</span>: <span style=color:#e6db74>&#39;tutorial@example.com&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;phone&#39;</span>: <span style=color:#e6db74>&#39;+60123456789&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;address&#39;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;street&#39;</span>: <span style=color:#e6db74>&#39;123 Tutorial Street&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;city&#39;</span>: <span style=color:#e6db74>&#39;Kuala Lumpur&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;state&#39;</span>: <span style=color:#e6db74>&#39;Selangor&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;postal_code&#39;</span>: <span style=color:#e6db74>&#39;50000&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;country&#39;</span>: <span style=color:#e6db74>&#39;MY&#39;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;payment_terms&#39;</span>: <span style=color:#ae81ff>30</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;credit_limit&#39;</span>: <span style=color:#ae81ff>10000.00</span>
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;✅ Customer created successfully!&#39;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Customer ID: </span><span style=color:#e6db74>{</span>customer[<span style=color:#e6db74>&#39;id&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Customer Number: </span><span style=color:#e6db74>{</span>customer[<span style=color:#e6db74>&#39;customer_number&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> customer
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> error:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;❌ Error creating customer: </span><span style=color:#e6db74>{</span>error<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>raise</span> error
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-2 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// tutorial.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>require_once</span> <span style=color:#e6db74>&#39;vendor/autoload.php&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>BigLedger\BigLedgerClient</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>BigLedger\Config</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>Dotenv\Dotenv</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$dotenv <span style=color:#f92672>=</span> <span style=color:#a6e22e>Dotenv</span><span style=color:#f92672>::</span><span style=color:#a6e22e>createImmutable</span>(<span style=color:#66d9ef>__DIR__</span>);
</span></span><span style=display:flex><span>$dotenv<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>load</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Initialize client
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    $config <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Config</span>([
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;api_key&#39;</span> <span style=color:#f92672>=&gt;</span> $_ENV[<span style=color:#e6db74>&#39;BIGLEDGER_API_KEY&#39;</span>],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;company_id&#39;</span> <span style=color:#f92672>=&gt;</span> $_ENV[<span style=color:#e6db74>&#39;BIGLEDGER_COMPANY_ID&#39;</span>],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;environment&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;sandbox&#39;</span> <span style=color:#75715e>// Start with sandbox
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    ]);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    $client <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>BigLedgerClient</span>($config);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Create a customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        $customer <span style=color:#f92672>=</span> $client<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>customers</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>create</span>([
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;name&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Tutorial Customer&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;email&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;tutorial@example.com&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;phone&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;+60123456789&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;address&#39;</span> <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;street&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;123 Tutorial Street&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;city&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Kuala Lumpur&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;state&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Selangor&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;postal_code&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;50000&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;country&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;MY&#39;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;payment_terms&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>30</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;credit_limit&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>10000.00</span>
</span></span><span style=display:flex><span>        ]);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;✅ Customer created successfully!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Customer ID: &#34;</span> <span style=color:#f92672>.</span> $customer[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Customer Number: &#34;</span> <span style=color:#f92672>.</span> $customer[<span style=color:#e6db74>&#39;customer_number&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $customer;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>Exception</span> $error) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;❌ Error creating customer: &#34;</span> <span style=color:#f92672>.</span> $error<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getMessage</span>() <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> $error;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>();
</span></span><span style=display:flex><span><span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div></div><h4>Step 3: Create your first invoice<span class="hx:absolute hx:-mt-20" id=step-3-create-your-first-invoice></span>
<a href=#step-3-create-your-first-invoice class=subheading-anchor aria-label="Permalink for this section"></a></h4><p>Now let&rsquo;s extend our tutorial to create an invoice for the customer:</p><div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain"><div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800"><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-0 aria-selected=true tabindex=0 data-state=selected>JavaScript</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-1>Python</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-2>PHP</button></div></div><div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-0 role=tabpanel tabindex=0 data-state=selected><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Add this to your main function after creating customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createInvoice</span>(<span style=color:#a6e22e>customer</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>invoice</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>customerId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>id</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>invoiceDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>dueDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(Date.<span style=color:#a6e22e>now</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>30</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>24</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1000</span>).<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>reference</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Tutorial-001&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>items</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Tutorial Consulting Services&#39;</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>unitPrice</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>200.00</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>taxCode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>taxRate</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>6.0</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Tutorial Setup Fee&#39;</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>unitPrice</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>500.00</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>taxCode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>taxRate</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>6.0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>notes</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Thank you for choosing our tutorial services!&#39;</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;✅ Invoice created successfully!&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Invoice ID: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Invoice Number: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>invoiceNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Total Amount: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>currency</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>invoice</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;❌ Error creating invoice:&#39;</span>, <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Update your main function
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ... customer creation code ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Create invoice
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>invoice</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>createInvoice</span>(<span style=color:#a6e22e>customer</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Get invoice details
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>invoiceDetails</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>id</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;\n📋 Invoice Details:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Status: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>status</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Subtotal: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>currency</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>subtotal</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Tax: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>currency</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>totalTax</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Total: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>currency</span><span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoiceDetails</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-1 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Add this to your tutorial.py</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_invoice</span>(client, customer):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>from</span> datetime <span style=color:#f92672>import</span> datetime, timedelta
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        invoice <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>invoices<span style=color:#f92672>.</span>create({
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;customer_id&#39;</span>: customer[<span style=color:#e6db74>&#39;id&#39;</span>],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;invoice_date&#39;</span>: datetime<span style=color:#f92672>.</span>now()<span style=color:#f92672>.</span>strftime(<span style=color:#e6db74>&#39;%Y-%m-</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>&#39;</span>),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;due_date&#39;</span>: (datetime<span style=color:#f92672>.</span>now() <span style=color:#f92672>+</span> timedelta(days<span style=color:#f92672>=</span><span style=color:#ae81ff>30</span>))<span style=color:#f92672>.</span>strftime(<span style=color:#e6db74>&#39;%Y-%m-</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>&#39;</span>),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;reference&#39;</span>: <span style=color:#e6db74>&#39;Tutorial-001&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;items&#39;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;description&#39;</span>: <span style=color:#e6db74>&#39;Tutorial Consulting Services&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;quantity&#39;</span>: <span style=color:#ae81ff>5</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;unit_price&#39;</span>: <span style=color:#ae81ff>200.00</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_code&#39;</span>: <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_rate&#39;</span>: <span style=color:#ae81ff>6.0</span>
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;description&#39;</span>: <span style=color:#e6db74>&#39;Tutorial Setup Fee&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;quantity&#39;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;unit_price&#39;</span>: <span style=color:#ae81ff>500.00</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_code&#39;</span>: <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_rate&#39;</span>: <span style=color:#ae81ff>6.0</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;notes&#39;</span>: <span style=color:#e6db74>&#39;Thank you for choosing our tutorial services!&#39;</span>
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;✅ Invoice created successfully!&#39;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Invoice ID: </span><span style=color:#e6db74>{</span>invoice[<span style=color:#e6db74>&#39;id&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Invoice Number: </span><span style=color:#e6db74>{</span>invoice[<span style=color:#e6db74>&#39;invoice_number&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Total Amount: </span><span style=color:#e6db74>{</span>invoice[<span style=color:#e6db74>&#39;currency&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>invoice[<span style=color:#e6db74>&#39;total&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> invoice
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> error:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;❌ Error creating invoice: </span><span style=color:#e6db74>{</span>error<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>raise</span> error
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Update your main function</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#75715e># ... customer creation code ...</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create invoice</span>
</span></span><span style=display:flex><span>    invoice <span style=color:#f92672>=</span> create_invoice(client, customer)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get invoice details</span>
</span></span><span style=display:flex><span>    invoice_details <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>invoices<span style=color:#f92672>.</span>get(invoice[<span style=color:#e6db74>&#39;id&#39;</span>])
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>📋 Invoice Details:&#39;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Status: </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;status&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Subtotal: </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;currency&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;subtotal&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Tax: </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;currency&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;total_tax&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Total: </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;currency&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>invoice_details[<span style=color:#e6db74>&#39;total&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-2 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Add this to your tutorial.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createInvoice</span>($client, $customer) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        $invoice <span style=color:#f92672>=</span> $client<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>invoices</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>create</span>([
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;customer_id&#39;</span> <span style=color:#f92672>=&gt;</span> $customer[<span style=color:#e6db74>&#39;id&#39;</span>],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;invoice_date&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>date</span>(<span style=color:#e6db74>&#39;Y-m-d&#39;</span>),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;due_date&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>date</span>(<span style=color:#e6db74>&#39;Y-m-d&#39;</span>, <span style=color:#a6e22e>strtotime</span>(<span style=color:#e6db74>&#39;+30 days&#39;</span>)),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;reference&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Tutorial-001&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;items&#39;</span> <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>                [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;description&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Tutorial Consulting Services&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;quantity&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>5</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;unit_price&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>200.00</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_code&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_rate&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>6.0</span>
</span></span><span style=display:flex><span>                ],
</span></span><span style=display:flex><span>                [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;description&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Tutorial Setup Fee&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;quantity&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;unit_price&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>500.00</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_code&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;tax_rate&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>6.0</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;notes&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Thank you for choosing our tutorial services!&#39;</span>
</span></span><span style=display:flex><span>        ]);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;✅ Invoice created successfully!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Invoice ID: &#34;</span> <span style=color:#f92672>.</span> $invoice[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Invoice Number: &#34;</span> <span style=color:#f92672>.</span> $invoice[<span style=color:#e6db74>&#39;invoice_number&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Total Amount: &#34;</span> <span style=color:#f92672>.</span> $invoice[<span style=color:#e6db74>&#39;currency&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>.</span> $invoice[<span style=color:#e6db74>&#39;total&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $invoice;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>Exception</span> $error) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;❌ Error creating invoice: &#34;</span> <span style=color:#f92672>.</span> $error<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getMessage</span>() <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> $error;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Update your main function
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ... customer creation code ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Create invoice
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    $invoice <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInvoice</span>($client, $customer);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Get invoice details
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    $invoiceDetails <span style=color:#f92672>=</span> $client<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>invoices</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>($invoice[<span style=color:#e6db74>&#39;id&#39;</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>📋 Invoice Details:</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Status: &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;status&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Subtotal: &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;currency&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;subtotal&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Tax: &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;currency&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;total_tax&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Total: &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;currency&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>.</span> $invoiceDetails[<span style=color:#e6db74>&#39;total&#39;</span>] <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div></div><h4>Step 4: Run your tutorial<span class="hx:absolute hx:-mt-20" id=step-4-run-your-tutorial></span>
<a href=#step-4-run-your-tutorial class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-scrollbar hx:overflow-x-auto hx:overflow-y-hidden hx:overscroll-x-contain"><div class="hx:mt-4 hx:flex hx:w-max hx:min-w-full hx:border-b hx:border-gray-200 hx:pb-px hx:dark:border-neutral-800"><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-0 aria-selected=true tabindex=0 data-state=selected>JavaScript</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-1>Python</button><button class="hextra-tabs-toggle hx:cursor-pointer hx:data-[state=selected]:border-primary-500 hx:data-[state=selected]:text-primary-600 hx:data-[state=selected]:dark:border-primary-500 hx:data-[state=selected]:dark:text-primary-600 hx:mr-2 hx:rounded-t hx:p-2 hx:font-medium hx:leading-5 hx:transition-colors hx:-mb-0.5 hx:select-none hx:border-b-2 hx:border-transparent hx:text-gray-600 hx:hover:border-gray-200 hx:hover:text-black hx:dark:text-gray-200 hx:dark:hover:border-neutral-800 hx:dark:hover:text-white" role=tab type=button aria-controls=tabs-panel-2>PHP</button></div></div><div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-0 role=tabpanel tabindex=0 data-state=selected><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>node tutorial.js</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-1 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python tutorial.py</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div><div class="hextra-tabs-panel hx:rounded-sm hx:pt-6 hx:hidden hx:data-[state=selected]:block" id=tabs-panel-2 role=tabpanel><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>php tutorial.php</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div></div></div><p><strong>Expected Output:</strong></p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><pre><code>✅ Customer created successfully!
Customer ID: cust_123abc456
Customer Number: CUST-0001
✅ Invoice created successfully!
Invoice ID: inv_789xyz123
Invoice Number: INV-2024-0001
Total Amount: MYR 1590.00

📋 Invoice Details:
Status: draft
Subtotal: MYR 1500.00
Tax: MYR 90.00
Total: MYR 1590.00</code></pre></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><p><strong>🎉 Congratulations!</strong> You&rsquo;ve successfully:</p><ul><li>Connected to BigLedger APIs</li><li>Created a customer</li><li>Generated an invoice</li><li>Retrieved invoice details</li></ul><hr><h3>Tutorial 2: E-commerce Integration (30 minutes)<span class="hx:absolute hx:-mt-20" id=tutorial-2-e-commerce-integration-30-minutes></span>
<a href=#tutorial-2-e-commerce-integration-30-minutes class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>Build an e-commerce order processing system that automatically creates invoices and manages inventory.</p><p><strong>What you&rsquo;ll learn:</strong></p><ul><li>Webhook integration</li><li>Inventory management</li><li>Order processing workflows</li><li>Error handling and retries</li></ul><h4>Step 1: Set up webhook endpoint<span class="hx:absolute hx:-mt-20" id=step-1-set-up-webhook-endpoint></span>
<a href=#step-1-set-up-webhook-endpoint class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// webhook-server.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>express</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;express&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>crypto</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;crypto&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>BigLedgerClient</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;@bigledger/sdk&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>express</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PORT</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3000</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>WEBHOOK_SECRET</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;your-webhook-secret&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Middleware to capture raw body for signature verification
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#e6db74>&#39;/webhooks&#39;</span>, <span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>raw</span>({<span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;application/json&#39;</span>}));
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>json</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>BigLedgerClient</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>apiKey</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>BIGLEDGER_API_KEY</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>companyId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>BIGLEDGER_COMPANY_ID</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>environment</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;sandbox&#39;</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Verify webhook signature
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>verifySignature</span>(<span style=color:#a6e22e>payload</span>, <span style=color:#a6e22e>signature</span>, <span style=color:#a6e22e>secret</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>expectedSignature</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>crypto</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>createHmac</span>(<span style=color:#e6db74>&#39;sha256&#39;</span>, <span style=color:#a6e22e>secret</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>update</span>(<span style=color:#a6e22e>payload</span>, <span style=color:#e6db74>&#39;utf8&#39;</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>digest</span>(<span style=color:#e6db74>&#39;hex&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>receivedSignature</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>signature</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#39;sha256=&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>crypto</span>.<span style=color:#a6e22e>timingSafeEqual</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Buffer</span>.<span style=color:#a6e22e>from</span>(<span style=color:#a6e22e>expectedSignature</span>, <span style=color:#e6db74>&#39;hex&#39;</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Buffer</span>.<span style=color:#a6e22e>from</span>(<span style=color:#a6e22e>receivedSignature</span>, <span style=color:#e6db74>&#39;hex&#39;</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Handle BigLedger webhooks
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;/webhooks/bigledger&#39;</span>, <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>signature</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>headers</span>[<span style=color:#e6db74>&#39;x-signature&#39;</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>payload</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>body</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Verify signature
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>verifySignature</span>(<span style=color:#a6e22e>payload</span>, <span style=color:#a6e22e>signature</span>, <span style=color:#a6e22e>WEBHOOK_SECRET</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>401</span>).<span style=color:#a6e22e>send</span>(<span style=color:#e6db74>&#39;Invalid signature&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>event</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>payload</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`📨 Received event: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>event</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>handleWebhookEvent</span>(<span style=color:#a6e22e>event</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>200</span>).<span style=color:#a6e22e>send</span>(<span style=color:#e6db74>&#39;OK&#39;</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Webhook processing error:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>500</span>).<span style=color:#a6e22e>send</span>(<span style=color:#e6db74>&#39;Processing error&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleWebhookEvent</span>(<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;invoice.created&#39;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>handleInvoiceCreated</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>object</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;invoice.paid&#39;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>handleInvoicePaid</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>object</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#39;inventory.low_stock&#39;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>handleLowStock</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>object</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Unhandled event: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>event</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleInvoiceCreated</span>(<span style=color:#a6e22e>invoice</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`📄 Invoice </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>invoiceNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74> created for customer </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>customer</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Send notification email to customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>sendInvoiceEmail</span>(<span style=color:#a6e22e>invoice</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleInvoicePaid</span>(<span style=color:#a6e22e>invoice</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`💰 Payment received for invoice </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>invoiceNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Update inventory
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>updateInventoryAfterSale</span>(<span style=color:#a6e22e>invoice</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Send receipt
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>sendPaymentReceipt</span>(<span style=color:#a6e22e>invoice</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleLowStock</span>(<span style=color:#a6e22e>item</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`⚠️  Low stock alert: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>description</span><span style=color:#e6db74>}</span><span style=color:#e6db74> (</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>currentStock</span><span style=color:#e6db74>}</span><span style=color:#e6db74> remaining)`</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Create purchase order automatically
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>createRestockOrder</span>(<span style=color:#a6e22e>item</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>listen</span>(<span style=color:#a6e22e>PORT</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`🚀 Webhook server running on port </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>PORT</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>});</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h4>Step 2: Create order processing workflow<span class="hx:absolute hx:-mt-20" id=step-2-create-order-processing-workflow></span>
<a href=#step-2-create-order-processing-workflow class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// order-processor.js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EcommerceOrderProcessor</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>bigledgerClient</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bigledgerClient</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>processOrder</span>(<span style=color:#a6e22e>orderData</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`🛒 Processing order: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>orderNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Step 1: Validate inventory
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>validateInventory</span>(<span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>items</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Step 2: Create or update customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>customer</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>upsertCustomer</span>(<span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>customer</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Step 3: Create invoice
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>invoice</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>createInvoice</span>(<span style=color:#a6e22e>customer</span>, <span style=color:#a6e22e>orderData</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Step 4: Reserve inventory
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>reserveInventory</span>(<span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>items</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Step 5: Process payment (if provided)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>payment</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>recordPayment</span>(<span style=color:#a6e22e>invoice</span>, <span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>payment</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`✅ Order </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>orderNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74> processed successfully`</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>customer</span>, <span style=color:#a6e22e>invoice</span> };
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>`❌ Error processing order </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>orderNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:`</span>, <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>validateInventory</span>(<span style=color:#a6e22e>items</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>item</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>items</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stockItem</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>inventory</span>.<span style=color:#a6e22e>getByCode</span>(<span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>sku</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>stockItem</span>.<span style=color:#a6e22e>currentStock</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>quantity</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>`Insufficient stock for </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>sku</span><span style=color:#e6db74>}</span><span style=color:#e6db74>. Available: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>stockItem</span>.<span style=color:#a6e22e>currentStock</span><span style=color:#e6db74>}</span><span style=color:#e6db74>, Required: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>quantity</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>upsertCustomer</span>(<span style=color:#a6e22e>customerData</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Try to find existing customer by email
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>customers</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>list</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>search</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>email</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Update existing customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>update</span>(<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>data</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>id</span>, {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>name</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>phone</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>phone</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>address</span>
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Create new customer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>name</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>email</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>phone</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>phone</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customerData</span>.<span style=color:#a6e22e>address</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>paymentTerms</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span> <span style=color:#75715e>// Immediate payment for e-commerce
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        });
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Error upserting customer:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>createInvoice</span>(<span style=color:#a6e22e>customer</span>, <span style=color:#a6e22e>orderData</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>item</span> =&gt; ({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>name</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>quantity</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>unitPrice</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>price</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>taxCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>taxCode</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;SST&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>itemCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>sku</span>
</span></span><span style=display:flex><span>    }));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>customerId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>id</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>invoiceDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>dueDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>], <span style=color:#75715e>// Due immediately
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>reference</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>orderNumber</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>items</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>items</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>shippingAmount</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>shippingCost</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>notes</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`E-commerce order: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>orderNumber</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>metadata</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>source</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;ecommerce&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>orderNumber</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>orderData</span>.<span style=color:#a6e22e>orderNumber</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>customerType</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;online&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>reserveInventory</span>(<span style=color:#a6e22e>items</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>item</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>items</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>inventory</span>.<span style=color:#a6e22e>adjust</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>itemCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>sku</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>adjustmentType</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;decrease&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>quantity</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>reason</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Sale - Reserved&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>reference</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>orderNumber</span>
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>recordPayment</span>(<span style=color:#a6e22e>invoice</span>, <span style=color:#a6e22e>paymentData</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>payments</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>invoiceId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>invoice</span>.<span style=color:#a6e22e>id</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>amount</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>paymentData</span>.<span style=color:#a6e22e>amount</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>paymentDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>paymentMethod</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>paymentData</span>.<span style=color:#a6e22e>method</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>reference</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>paymentData</span>.<span style=color:#a6e22e>transactionId</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>bankAccountId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>paymentData</span>.<span style=color:#a6e22e>bankAccountId</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;default&#39;</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Usage example
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>processor</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>EcommerceOrderProcessor</span>(<span style=color:#a6e22e>client</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sampleOrder</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>orderNumber</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;ORD-2024-001&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>customer</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John Doe&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;john@example.com&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>phone</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;+60123456789&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>street</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;123 Customer Street&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>city</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Kuala Lumpur&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>state</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Selangor&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>postalCode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;50000&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>country</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;MY&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>items</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sku</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;WIDGET-001&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Premium Widget&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>price</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>99.99</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>taxCode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;SST&#39;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sku</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;GADGET-002&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Super Gadget&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>price</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>199.99</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>taxCode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;SST&#39;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shippingCost</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>15.00</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>payment</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>amount</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>414.97</span>, <span style=color:#75715e>// Including tax and shipping
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>method</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;credit_card&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>transactionId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;txn_stripe_123456&#39;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>processor</span>.<span style=color:#a6e22e>processOrder</span>(<span style=color:#a6e22e>sampleOrder</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Order processed successfully:&#39;</span>, <span style=color:#a6e22e>result</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Order processing failed:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>().<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>);</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><hr><h2>Advanced Integration Patterns<span class="hx:absolute hx:-mt-20" id=advanced-integration-patterns></span>
<a href=#advanced-integration-patterns class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Pattern 1: Multi-Channel Inventory Sync<span class="hx:absolute hx:-mt-20" id=pattern-1-multi-channel-inventory-sync></span>
<a href=#pattern-1-multi-channel-inventory-sync class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>Synchronize inventory across multiple sales channels (Shopify, Amazon, physical stores).</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MultiChannelInventorySync</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bigledger</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>BigLedgerClient</span>(<span style=color:#a6e22e>config</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>channels</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>shopify</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ShopifyAPI</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>amazon</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>AmazonAPI</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pos</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>POSSystem</span>()
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>syncInventoryAcrossChannels</span>(<span style=color:#a6e22e>itemCode</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Get current stock from BigLedger
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stockItem</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bigledger</span>.<span style=color:#a6e22e>inventory</span>.<span style=color:#a6e22e>getByCode</span>(<span style=color:#a6e22e>itemCode</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>availableStock</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>stockItem</span>.<span style=color:#a6e22e>currentStock</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>stockItem</span>.<span style=color:#a6e22e>reservedStock</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Update all channels
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>updatePromises</span> <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>entries</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>channels</span>).<span style=color:#a6e22e>map</span>(<span style=color:#66d9ef>async</span> ([<span style=color:#a6e22e>channel</span>, <span style=color:#a6e22e>api</span>]) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>api</span>.<span style=color:#a6e22e>updateInventory</span>(<span style=color:#a6e22e>itemCode</span>, <span style=color:#a6e22e>availableStock</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`✅ </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>channel</span><span style=color:#e6db74>}</span><span style=color:#e6db74>: Updated </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>itemCode</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>availableStock</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>`❌ </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>channel</span><span style=color:#e6db74>}</span><span style=color:#e6db74>: Failed to update </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>itemCode</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> Promise.<span style=color:#a6e22e>all</span>(<span style=color:#a6e22e>updatePromises</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>`Failed to sync inventory for </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>itemCode</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:`</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>handleInventoryWebhook</span>(<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>event</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;inventory.adjustment&#39;</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>object</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>syncInventoryAcrossChannels</span>(<span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>itemCode</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Pattern 2: Automated Financial Reporting<span class="hx:absolute hx:-mt-20" id=pattern-2-automated-financial-reporting></span>
<a href=#pattern-2-automated-financial-reporting class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>Generate and distribute financial reports automatically.</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AutomatedReporting</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>bigledgerClient</span>, <span style=color:#a6e22e>emailService</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bigledgerClient</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>emailService</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>emailService</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>generateMonthlyReports</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lastMonth</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lastMonth</span>.<span style=color:#a6e22e>setMonth</span>(<span style=color:#a6e22e>lastMonth</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>reports</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> Promise.<span style=color:#a6e22e>all</span>([
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>reports</span>.<span style=color:#a6e22e>profitLoss</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fromDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMonthStart</span>(<span style=color:#a6e22e>lastMonth</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>toDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMonthEnd</span>(<span style=color:#a6e22e>lastMonth</span>)
</span></span><span style=display:flex><span>      }),
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>reports</span>.<span style=color:#a6e22e>balanceSheet</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>asOfDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMonthEnd</span>(<span style=color:#a6e22e>lastMonth</span>)
</span></span><span style=display:flex><span>      }),
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>reports</span>.<span style=color:#a6e22e>agedReceivables</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>asOfDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMonthEnd</span>(<span style=color:#a6e22e>lastMonth</span>)
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    ]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Email reports to stakeholders
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>emailService</span>.<span style=color:#a6e22e>sendReports</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>recipients</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;cfo@company.com&#39;</span>, <span style=color:#e6db74>&#39;accounting@company.com&#39;</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>subject</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`Monthly Financial Reports - </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>lastMonth</span>.<span style=color:#a6e22e>toLocaleDateString</span>(<span style=color:#e6db74>&#39;en-US&#39;</span>, { <span style=color:#a6e22e>month</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;long&#39;</span>, <span style=color:#a6e22e>year</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;numeric&#39;</span> <span style=color:#e6db74>}</span><span style=color:#e6db74>)}`</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>reports</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>reports</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>format</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pdf&#39;</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getMonthStart</span>(<span style=color:#a6e22e>date</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Date(<span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getFullYear</span>(), <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getMonth</span>(), <span style=color:#ae81ff>1</span>).<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getMonthEnd</span>(<span style=color:#a6e22e>date</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Date(<span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getFullYear</span>(), <span style=color:#a6e22e>date</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>).<span style=color:#a6e22e>toISOString</span>().<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;T&#39;</span>)[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Best Practices & Common Patterns<span class="hx:absolute hx:-mt-20" id=best-practices--common-patterns></span>
<a href=#best-practices--common-patterns class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Error Handling Strategy<span class="hx:absolute hx:-mt-20" id=error-handling-strategy></span>
<a href=#error-handling-strategy class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RobustAPIClient</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>config</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>BigLedgerClient</span>(<span style=color:#a6e22e>config</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>retryAttempts</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>retryDelay</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000</span>; <span style=color:#75715e>// 1 second
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>withRetry</span>(<span style=color:#a6e22e>operation</span>, <span style=color:#a6e22e>attempts</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>retryAttempts</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>operation</span>();
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>attempts</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>isRetryableError</span>(<span style=color:#a6e22e>error</span>)) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Retrying in </span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>retryDelay</span><span style=color:#e6db74>}</span><span style=color:#e6db74>ms... (</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>attempts</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74> attempts left)`</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sleep</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>retryDelay</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>withRetry</span>(<span style=color:#a6e22e>operation</span>, <span style=color:#a6e22e>attempts</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>isRetryableError</span>(<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Retry on network errors, rate limits, and server errors
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;NETWORK_ERROR&#39;</span> <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;RATE_LIMIT_EXCEEDED&#39;</span> <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>code</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;INTERNAL_SERVER_ERROR&#39;</span> <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>      (<span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>status</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>500</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>status</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>600</span>)
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>sleep</span>(<span style=color:#a6e22e>ms</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Promise(<span style=color:#a6e22e>resolve</span> =&gt; <span style=color:#a6e22e>setTimeout</span>(<span style=color:#a6e22e>resolve</span>, <span style=color:#a6e22e>ms</span>));
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>createInvoiceWithRetry</span>(<span style=color:#a6e22e>invoiceData</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>withRetry</span>(<span style=color:#66d9ef>async</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>create</span>(<span style=color:#a6e22e>invoiceData</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Idempotent Operations<span class="hx:absolute hx:-mt-20" id=idempotent-operations></span>
<a href=#idempotent-operations class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>IdempotentOperations</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>bigledgerClient</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bigledgerClient</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>processedIds</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>(); <span style=color:#75715e>// In production, use Redis or database
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>processWebhookEvent</span>(<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Check if we&#39;ve already processed this event
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>processedIds</span>.<span style=color:#a6e22e>has</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>id</span>)) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Event </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74> already processed, skipping`</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleEvent</span>(<span style=color:#a6e22e>event</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Mark as processed only after successful completion
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>processedIds</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>id</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>`Failed to process event </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74>:`</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>createIdempotentInvoice</span>(<span style=color:#a6e22e>invoiceData</span>, <span style=color:#a6e22e>idempotencyKey</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Check if invoice with this key already exists
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>existingInvoice</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>findInvoiceByIdempotencyKey</span>(<span style=color:#a6e22e>idempotencyKey</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>existingInvoice</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Invoice already exists, returning existing invoice&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>existingInvoice</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Create new invoice with idempotency key in metadata
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>invoice</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>        ...<span style=color:#a6e22e>invoiceData</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>metadata</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>          ...<span style=color:#a6e22e>invoiceData</span>.<span style=color:#a6e22e>metadata</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>idempotencyKey</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>idempotencyKey</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>invoice</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#39;Error creating idempotent invoice:&#39;</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>findInvoiceByIdempotencyKey</span>(<span style=color:#a6e22e>key</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>invoices</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>list</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>search</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>key</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>searchFields</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;metadata.idempotencyKey&#39;</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>invoices</span>.<span style=color:#a6e22e>data</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Data Validation and Sanitization<span class="hx:absolute hx:-mt-20" id=data-validation-and-sanitization></span>
<a href=#data-validation-and-sanitization class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Joi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;joi&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DataValidator</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>customerSchema</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>object</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>min</span>(<span style=color:#ae81ff>1</span>).<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>200</span>).<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>email</span>().<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>phone</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>pattern</span>(<span style=color:#e6db74>/^\+\d{10,15}$/</span>),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>object</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>street</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>200</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>city</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>100</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>state</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>100</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>postalCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>20</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>country</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>length</span>(<span style=color:#ae81ff>2</span>).<span style=color:#a6e22e>required</span>()
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>invoiceSchema</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>object</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>customerId</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>invoiceDate</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>date</span>().<span style=color:#a6e22e>iso</span>().<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>dueDate</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>date</span>().<span style=color:#a6e22e>iso</span>().<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>ref</span>(<span style=color:#e6db74>&#39;invoiceDate&#39;</span>)).<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>items</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>min</span>(<span style=color:#ae81ff>1</span>).<span style=color:#a6e22e>items</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>object</span>({
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>min</span>(<span style=color:#ae81ff>1</span>).<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>500</span>).<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>quantity</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>number</span>().<span style=color:#a6e22e>positive</span>().<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>unitPrice</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>number</span>().<span style=color:#a6e22e>positive</span>().<span style=color:#a6e22e>required</span>(),
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>taxCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Joi</span>.<span style=color:#a6e22e>string</span>().<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>      ).<span style=color:#a6e22e>required</span>()
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>validateCustomer</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>error</span>, <span style=color:#a6e22e>value</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>customerSchema</span>.<span style=color:#a6e22e>validate</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ValidationError</span>(<span style=color:#e6db74>`Customer validation failed: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>details</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>d</span> =&gt; <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>message</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;, &#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>validateInvoice</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>error</span>, <span style=color:#a6e22e>value</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>invoiceSchema</span>.<span style=color:#a6e22e>validate</span>(<span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ValidationError</span>(<span style=color:#e6db74>`Invoice validation failed: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>details</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>d</span> =&gt; <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>message</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;, &#39;</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>value</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sanitizeInput</span>(<span style=color:#a6e22e>data</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Remove potentially dangerous characters
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sanitized</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>data</span>));
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Implement your sanitization logic here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// For example, trim strings, normalize phone numbers, etc.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>sanitized</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ValidationError</span> <span style=color:#66d9ef>extends</span> Error {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>message</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span>(<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;ValidationError&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Production Deployment Checklist<span class="hx:absolute hx:-mt-20" id=production-deployment-checklist></span>
<a href=#production-deployment-checklist class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Security Checklist<span class="hx:absolute hx:-mt-20" id=security-checklist></span>
<a href=#security-checklist class=subheading-anchor aria-label="Permalink for this section"></a></h3><ul><li><input disabled type=checkbox> <strong>API Keys</strong>: Store in environment variables, never in code</li><li><input disabled type=checkbox> <strong>HTTPS</strong>: All API calls use HTTPS</li><li><input disabled type=checkbox> <strong>Webhook Signatures</strong>: Always verify webhook signatures</li><li><input disabled type=checkbox> <strong>Input Validation</strong>: Validate all user inputs</li><li><input disabled type=checkbox> <strong>Rate Limiting</strong>: Implement client-side rate limiting</li><li><input disabled type=checkbox> <strong>Error Logging</strong>: Log errors without exposing sensitive data</li></ul><h3>Monitoring & Observability<span class="hx:absolute hx:-mt-20" id=monitoring--observability></span>
<a href=#monitoring--observability class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>APIMonitoring</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>apiCalls</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>successCount</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>errorCount</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>responseTime</span><span style=color:#f92672>:</span> []
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>wrapAPICall</span>(<span style=color:#a6e22e>operation</span>, <span style=color:#a6e22e>operationName</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>startTime</span> <span style=color:#f92672>=</span> Date.<span style=color:#a6e22e>now</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>apiCalls</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>operation</span>();
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>successCount</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>responseTime</span> <span style=color:#f92672>=</span> Date.<span style=color:#a6e22e>now</span>() <span style=color:#f92672>-</span> <span style=color:#a6e22e>startTime</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>responseTime</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>responseTime</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`✅ </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>operationName</span><span style=color:#e6db74>}</span><span style=color:#e6db74> completed in </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>responseTime</span><span style=color:#e6db74>}</span><span style=color:#e6db74>ms`</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>result</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>errorCount</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>`❌ </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>operationName</span><span style=color:#e6db74>}</span><span style=color:#e6db74> failed:`</span>, <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Send to monitoring service
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sendErrorToMonitoring</span>(<span style=color:#a6e22e>operationName</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sendErrorToMonitoring</span>(<span style=color:#a6e22e>operation</span>, <span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Send to your monitoring service (e.g., Sentry, DataDog)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Sending error to monitoring service:&#39;</span>, { <span style=color:#a6e22e>operation</span>, <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>error</span>.<span style=color:#a6e22e>message</span> });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getMetrics</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>avgResponseTime</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>responseTime</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> 
</span></span><span style=display:flex><span>      <span style=color:#f92672>?</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>responseTime</span>.<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) =&gt; <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>/</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>responseTime</span>.<span style=color:#a6e22e>length</span> 
</span></span><span style=display:flex><span>      <span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>totalCalls</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>apiCalls</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>successRate</span><span style=color:#f92672>:</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>successCount</span> <span style=color:#f92672>/</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>apiCalls</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>errorRate</span><span style=color:#f92672>:</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>errorCount</span> <span style=color:#f92672>/</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>metrics</span>.<span style=color:#a6e22e>apiCalls</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>averageResponseTime</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>avgResponseTime</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Performance Optimization<span class="hx:absolute hx:-mt-20" id=performance-optimization></span>
<a href=#performance-optimization class=subheading-anchor aria-label="Permalink for this section"></a></h3><ul><li><input disabled type=checkbox> <strong>Connection Pooling</strong>: Use HTTP connection pooling</li><li><input disabled type=checkbox> <strong>Caching</strong>: Cache frequently accessed data</li><li><input disabled type=checkbox> <strong>Pagination</strong>: Use pagination for large data sets</li><li><input disabled type=checkbox> <strong>Bulk Operations</strong>: Use bulk endpoints when possible</li><li><input disabled type=checkbox> <strong>Async Processing</strong>: Use async operations for non-critical tasks</li></ul><h2>Migration Guides<span class="hx:absolute hx:-mt-20" id=migration-guides></span>
<a href=#migration-guides class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>QuickBooks to BigLedger Migration<span class="hx:absolute hx:-mt-20" id=quickbooks-to-bigledger-migration></span>
<a href=#quickbooks-to-bigledger-migration class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>QuickBooksToBigLedgerMigration</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>qbClient</span>, <span style=color:#a6e22e>blClient</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>qb</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>qbClient</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>blClient</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>migrationLog</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>migrateChartOfAccounts</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;🔄 Migrating Chart of Accounts...&#39;</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>qbAccounts</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>qb</span>.<span style=color:#a6e22e>accounts</span>.<span style=color:#a6e22e>list</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>blAccounts</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>qbAccount</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>qbAccounts</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>blAccount</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bl</span>.<span style=color:#a6e22e>accounts</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>accountCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>accountCode</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>accountName</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>name</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>accountType</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mapAccountType</span>(<span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>type</span>),
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>parentAccountId</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>findMappedAccountId</span>(<span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>parentId</span>),
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>description</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>isActive</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>active</span>
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>blAccounts</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>blAccount</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>logSuccess</span>(<span style=color:#e6db74>&#39;account&#39;</span>, <span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>blAccount</span>.<span style=color:#a6e22e>id</span>);
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>logError</span>(<span style=color:#e6db74>&#39;account&#39;</span>, <span style=color:#a6e22e>qbAccount</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`✅ Migrated </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>blAccounts</span>.<span style=color:#a6e22e>length</span><span style=color:#e6db74>}</span><span style=color:#e6db74> accounts`</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>blAccounts</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>migrateCustomers</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;🔄 Migrating Customers...&#39;</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>qbCustomers</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>qb</span>.<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>list</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>blCustomers</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>qbCustomer</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>qbCustomers</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>blCustomer</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>bl</span>.<span style=color:#a6e22e>customers</span>.<span style=color:#a6e22e>create</span>({
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>name</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>primaryEmailAddress</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>phone</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>primaryPhone</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>freeFormNumber</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mapAddress</span>(<span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>billAddr</span>),
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>creditLimit</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>creditLimit</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>paymentTerms</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>mapPaymentTerms</span>(<span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>paymentTerms</span>)
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>blCustomers</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>blCustomer</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>logSuccess</span>(<span style=color:#e6db74>&#39;customer&#39;</span>, <span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>blCustomer</span>.<span style=color:#a6e22e>id</span>);
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>logError</span>(<span style=color:#e6db74>&#39;customer&#39;</span>, <span style=color:#a6e22e>qbCustomer</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>error</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`✅ Migrated </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>blCustomers</span>.<span style=color:#a6e22e>length</span><span style=color:#e6db74>}</span><span style=color:#e6db74> customers`</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>blCustomers</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mapAccountType</span>(<span style=color:#a6e22e>qbType</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>typeMapping</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Bank&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;BANK&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Accounts Receivable&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;ACCOUNTS_RECEIVABLE&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Other Current Asset&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;CURRENT_ASSET&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Fixed Asset&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;FIXED_ASSET&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Accounts Payable&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;ACCOUNTS_PAYABLE&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Credit Card&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;CREDIT_CARD&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Other Current Liability&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;CURRENT_LIABILITY&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Long Term Liability&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;LONG_TERM_LIABILITY&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Equity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;EQUITY&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Income&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;INCOME&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Cost of Goods Sold&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;COST_OF_GOODS_SOLD&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Expense&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;EXPENSE&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Other Income&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;OTHER_INCOME&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;Other Expense&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;OTHER_EXPENSE&#39;</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>typeMapping</span>[<span style=color:#a6e22e>qbType</span>] <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;OTHER_ASSET&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>generateMigrationReport</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>summary</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>successful</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>migrationLog</span>.<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>l</span> =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>status</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;success&#39;</span>).<span style=color:#a6e22e>length</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>failed</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>migrationLog</span>.<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>l</span> =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>status</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;error&#39;</span>).<span style=color:#a6e22e>length</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>total</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>migrationLog</span>.<span style=color:#a6e22e>length</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;\n📊 Migration Summary:&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Total records: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>summary</span>.<span style=color:#a6e22e>total</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Successful: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>summary</span>.<span style=color:#a6e22e>successful</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Failed: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>summary</span>.<span style=color:#a6e22e>failed</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Success rate: </span><span style=color:#e6db74>${</span>(<span style=color:#a6e22e>summary</span>.<span style=color:#a6e22e>successful</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>summary</span>.<span style=color:#a6e22e>total</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>).<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>2</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>%`</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>summary</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>details</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>migrationLog</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Next Steps<span class="hx:absolute hx:-mt-20" id=next-steps></span>
<a href=#next-steps class=subheading-anchor aria-label="Permalink for this section"></a></h2><p>After completing these tutorials, you&rsquo;re ready to:</p><ol><li><strong>Build Production Integrations</strong>: Apply these patterns to your real-world projects</li><li><strong>Explore Advanced Features</strong>: E-invoice automation, multi-currency handling, advanced reporting</li><li><strong>Join the Community</strong>: Share your integrations and learn from other developers</li><li><strong>Get Support</strong>: Reach out to <a href=mailto:developers@bigledger.com>developers@bigledger.com</a> for help</li></ol><h2>Additional Resources<span class="hx:absolute hx:-mt-20" id=additional-resources></span>
<a href=#additional-resources class=subheading-anchor aria-label="Permalink for this section"></a></h2><ul><li><strong><a href=./api-reference/>API Reference</a></strong>: Complete endpoint documentation</li><li><strong><a href=./sdks/>SDK Documentation</a></strong>: Language-specific guides</li><li><strong><a href=./webhooks/>Webhook Reference</a></strong>: Real-time integration patterns</li><li><strong><a href=https://github.com/bigledger/api-examples target=_blank rel=noopener>Code Examples Repository</a></strong>: Complete example projects</li><li><strong><a href=https://community.bigledger.com target=_blank rel=noopener>Community Forum</a></strong>: Ask questions and share solutions</li></ul><p>Happy coding! 🚀</p></div></div></article></main><footer class=corporate-footer><div class=container><div class=footer-grid><div class=footer-column><img src=https://www.bigledger.com/images/bigledger-logo-cropped.png alt="BigLedger - Complete Business Management Platform" height=32 style=margin-bottom:16px><p>Complete Business Management Platform - ERP, POS, E-Commerce & More</p></div><div class=footer-column><h4>Product</h4><ul><li><a href=https://www.bigledger.com/solutions>Solutions</a></li><li><a href=https://www.bigledger.com/pricing>Pricing</a></li><li><a href=https://www.bigledger.com/developers>Developers</a></li></ul></div><div class=footer-column><h4>Company</h4><ul><li><a href=https://www.bigledger.com/about>About</a></li><li><a href=https://www.bigledger.com/contact>Contact</a></li></ul></div><div class=footer-column><h4>Connect</h4><ul><li><a href=https://github.com/bigledger target=_blank>Github</a></li><li><a href=https://twitter.com/bigledger target=_blank>Twitter</a></li></ul></div></div><div class=footer-bottom><p>&copy; 2025 BigLedger. All rights reserved.</p></div></div></footer></body></html>