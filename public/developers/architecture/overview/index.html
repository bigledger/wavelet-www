<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>System Architecture Overview | BigLedger - Complete Business Management Platform</title><meta name=description content="Complete overview of BigLedger's system architecture, design patterns, and technical architecture for enterprise teams."><link rel=icon type=image/png href=https://www.bigledger.com/images/bigledger-logo-cropped.png><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel=stylesheet><link rel=stylesheet href=https://www.bigledger.com/css/custom.css><meta property="og:title" content="System Architecture Overview"><meta property="og:description" content="Complete overview of BigLedger's system architecture, design patterns, and technical architecture for enterprise teams."><meta property="og:type" content="website"><meta property="og:url" content="https://www.bigledger.com/developers/architecture/overview/"></head><body><header class=corporate-header><div class=container><nav class=nav><div class=nav-logo><a href=https://www.bigledger.com/><img src=https://www.bigledger.com/images/bigledger-logo-cropped.png alt="BigLedger - Complete Business Management Platform" height=40></a></div><div class=nav-menu><a href=https://www.bigledger.com/ class=nav-link>Home</a>
<a href=https://www.bigledger.com/about/ class=nav-link>About</a>
<a href=https://www.bigledger.com/solutions/ class=nav-link>Solutions</a>
<a href=https://www.bigledger.com/pricing/ class=nav-link>Pricing</a>
<a href=https://www.bigledger.com/contact/ class=nav-link>Contact</a>
<a href=https://www.bigledger.com/developers/ class=nav-link>Developers</a></div><div class=nav-cta><a href=https://www.bigledger.com/contact class=btn-primary>Get Started</a></div></nav></div></header><main><article class=corporate-page><div class=container><div class=page-content><h1>BigLedger System Architecture</h1><p>Comprehensive overview of BigLedger&rsquo;s system architecture, designed for enterprise architects, technical leads, and solution designers who need to understand how BigLedger fits into larger enterprise ecosystems.</p><div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200"><div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2"><div class="hx:select-none hx:text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="hx:w-full hx:min-w-0 hx:leading-7"><div class="hx:mt-6 hx:leading-7 hx:first:mt-0"><strong>Enterprise-Grade Architecture</strong>: BigLedger is built with a modern, cloud-native architecture that supports multi-tenancy, horizontal scaling, and enterprise integration patterns.</div></div></div><h2>Architecture Overview<span class="hx:absolute hx:-mt-20" id=architecture-overview></span>
<a href=#architecture-overview class=subheading-anchor aria-label="Permalink for this section"></a></h2><p>BigLedger follows a <strong>modular, microservices-based architecture</strong> with the following key characteristics:</p><ul><li><strong>Angular-First Frontend</strong>: Modular Angular applets with shared UI components</li><li><strong>Microservices Backend</strong>: Domain-driven service architecture</li><li><strong>Event-Driven Communication</strong>: Asynchronous messaging and real-time updates</li><li><strong>Multi-Tenant SaaS</strong>: Secure tenant isolation with shared infrastructure</li><li><strong>Cloud-Native Design</strong>: Container-based deployment with auto-scaling</li></ul><h2>High-Level Architecture Diagram<span class="hx:absolute hx:-mt-20" id=high-level-architecture-diagram></span>
<a href=#high-level-architecture-diagram class=subheading-anchor aria-label="Permalink for this section"></a></h2><pre class="mermaid hx:mt-6">
  graph TB
    subgraph &#34;Frontend Layer&#34;
        WEB[Web Application]
        MOBILE[Mobile Apps]
        API_GATEWAY[API Gateway]
    end
    
    subgraph &#34;Application Layer&#34;
        AUTH[Authentication Service]
        USER[User Management]
        COMPANY[Company Service]
        APPLET[Applet Engine]
    end
    
    subgraph &#34;Business Services&#34;
        ACCOUNTING[Accounting Service]
        INVENTORY[Inventory Service]
        SALES[Sales &amp; CRM Service]
        EINVOICE[E-Invoice Service]
        REPORTING[Reporting Service]
        WORKFLOW[Workflow Engine]
    end
    
    subgraph &#34;Integration Layer&#34;
        WEBHOOK[Webhook Service]
        BATCH[Batch Processing]
        ETL[ETL Pipeline]
        CONNECTOR[3rd Party Connectors]
    end
    
    subgraph &#34;Data Layer&#34;
        PRIMARY[(Primary Database)]
        CACHE[(Cache Layer)]
        SEARCH[(Search Engine)]
        FILES[(File Storage)]
        AUDIT[(Audit Store)]
    end
    
    subgraph &#34;Infrastructure&#34;
        QUEUE[Message Queue]
        MONITOR[Monitoring]
        LOGGING[Logging]
        SECURITY[Security Layer]
    end
    
    WEB --&gt; API_GATEWAY
    MOBILE --&gt; API_GATEWAY
    API_GATEWAY --&gt; AUTH
    API_GATEWAY --&gt; USER
    API_GATEWAY --&gt; COMPANY
    API_GATEWAY --&gt; APPLET
    
    USER --&gt; ACCOUNTING
    USER --&gt; INVENTORY
    USER --&gt; SALES
    USER --&gt; EINVOICE
    USER --&gt; REPORTING
    
    ACCOUNTING --&gt; PRIMARY
    INVENTORY --&gt; PRIMARY
    SALES --&gt; PRIMARY
    EINVOICE --&gt; PRIMARY
    REPORTING --&gt; PRIMARY
    
    ACCOUNTING --&gt; CACHE
    INVENTORY --&gt; CACHE
    SALES --&gt; CACHE
    
    WORKFLOW --&gt; QUEUE
    WEBHOOK --&gt; QUEUE
    BATCH --&gt; QUEUE
    
    APPLET --&gt; BUSINESS_SERVICES
    CONNECTOR --&gt; ETL
    ETL --&gt; PRIMARY
</pre><h2>Core Architectural Patterns<span class="hx:absolute hx:-mt-20" id=core-architectural-patterns></span>
<a href=#core-architectural-patterns class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>1. Domain-Driven Design (DDD)<span class="hx:absolute hx:-mt-20" id=1-domain-driven-design-ddd></span>
<a href=#1-domain-driven-design-ddd class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>BigLedger is organized around business domains with clear boundaries:</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><pre><code>Bounded Contexts:
├── Identity &amp; Access Management
├── Company Management
├── Financial Accounting
├── Inventory Management
├── Sales &amp; CRM
├── Purchasing
├── E-Invoice &amp; Compliance
├── Reporting &amp; Analytics
└── Integration &amp; Automation</code></pre></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h4>Domain Service Structure<span class="hx:absolute hx:-mt-20" id=domain-service-structure></span>
<a href=#domain-service-structure class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// Example: Inventory Domain
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>InventoryDomain</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Aggregates
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>Product</span>: <span style=color:#66d9ef>ProductAggregate</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>InventoryItem</span>: <span style=color:#66d9ef>InventoryItemAggregate</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>StockMovement</span>: <span style=color:#66d9ef>StockMovementAggregate</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Domain Services
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>StockValuationService</span>: <span style=color:#66d9ef>IStockValuationService</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ReorderCalculationService</span>: <span style=color:#66d9ef>IReorderCalculationService</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Repositories
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>ProductRepository</span>: <span style=color:#66d9ef>IProductRepository</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>InventoryRepository</span>: <span style=color:#66d9ef>IInventoryRepository</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Events
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>StockLevelChangedEvent</span>: <span style=color:#66d9ef>DomainEvent</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ProductCreatedEvent</span>: <span style=color:#66d9ef>DomainEvent</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>2. Event-Driven Architecture<span class="hx:absolute hx:-mt-20" id=2-event-driven-architecture></span>
<a href=#2-event-driven-architecture class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>All business operations generate events that drive system behavior:</p><pre class="mermaid hx:mt-6">
  sequenceDiagram
    participant Client
    participant API
    participant Service
    participant EventBus
    participant Handler1
    participant Handler2
    participant Database
    
    Client-&gt;&gt;API: Create Invoice
    API-&gt;&gt;Service: Process Request
    Service-&gt;&gt;Database: Save Invoice
    Service-&gt;&gt;EventBus: Publish InvoiceCreated Event
    EventBus-&gt;&gt;Handler1: Update Customer Balance
    EventBus-&gt;&gt;Handler2: Generate E-Invoice
    EventBus-&gt;&gt;Handler2: Send Webhook
    Service-&gt;&gt;API: Return Response
    API-&gt;&gt;Client: Invoice Created
</pre><h4>Event Schema<span class="hx:absolute hx:-mt-20" id=event-schema></span>
<a href=#event-schema class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>DomainEvent</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>eventType</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aggregateId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aggregateType</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>eventVersion</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>occurredOn</span>: <span style=color:#66d9ef>Date</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>correlationId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tenantId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>userId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>payload</span>: <span style=color:#66d9ef>any</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>metadata</span>: <span style=color:#66d9ef>EventMetadata</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>EventMetadata</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>source</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>causationId?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ipAddress?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>userAgent?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>requestId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>3. CQRS (Command Query Responsibility Segregation)<span class="hx:absolute hx:-mt-20" id=3-cqrs-command-query-responsibility-segregation></span>
<a href=#3-cqrs-command-query-responsibility-segregation class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>Separate read and write models for optimal performance:</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// Write Model (Commands)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CreateInvoiceCommand</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tenantId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>customerId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>items</span>: <span style=color:#66d9ef>InvoiceItemData</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dueDate</span>: <span style=color:#66d9ef>Date</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>notes?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Read Model (Queries)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>InvoiceListQuery</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tenantId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>customerId?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>status?</span>: <span style=color:#66d9ef>InvoiceStatus</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dateRange?</span>: <span style=color:#66d9ef>DateRange</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pagination</span>: <span style=color:#66d9ef>PaginationOptions</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sorting</span>: <span style=color:#66d9ef>SortOptions</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>InvoiceProjection</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>invoiceNumber</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>customerName</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>total</span>: <span style=color:#66d9ef>Money</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>status</span>: <span style=color:#66d9ef>InvoiceStatus</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dueDate</span>: <span style=color:#66d9ef>Date</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>overdueDays?</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Multi-Tenancy Architecture<span class="hx:absolute hx:-mt-20" id=multi-tenancy-architecture></span>
<a href=#multi-tenancy-architecture class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Tenant Isolation Strategy<span class="hx:absolute hx:-mt-20" id=tenant-isolation-strategy></span>
<a href=#tenant-isolation-strategy class=subheading-anchor aria-label="Permalink for this section"></a></h3><p>BigLedger uses <strong>Schema-per-Tenant</strong> isolation for maximum security and performance:</p><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- Database Structure
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>bigledger_platform<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>├──</span> shared<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> tenants
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> users
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> subscriptions
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> system_config
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>└──</span> tenant_schemas<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>├──</span> tenant_001<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> companies
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> accounts
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> transactions
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> ...
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>└──</span> tenant_002<span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>├──</span> companies
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>├──</span> accounts  
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>├──</span> transactions
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>└──</span> ...</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Tenant Context Management<span class="hx:absolute hx:-mt-20" id=tenant-context-management></span>
<a href=#tenant-context-management class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>TenantContext</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tenantId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>schema</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>subscriptionPlan</span>: <span style=color:#66d9ef>SubscriptionPlan</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>features</span>: <span style=color:#66d9ef>EnabledFeatures</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>limits</span>: <span style=color:#66d9ef>TenantLimits</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>timezone</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>locale</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currency</span>: <span style=color:#66d9ef>CurrencyCode</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>TenantLimits</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maxCompanies</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maxUsers</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maxTransactions</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>apiRateLimit</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>storageQuota</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Service Architecture<span class="hx:absolute hx:-mt-20" id=service-architecture></span>
<a href=#service-architecture class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Core Business Services<span class="hx:absolute hx:-mt-20" id=core-business-services></span>
<a href=#core-business-services class=subheading-anchor aria-label="Permalink for this section"></a></h3><h4>1. Accounting Service<span class="hx:absolute hx:-mt-20" id=1-accounting-service></span>
<a href=#1-accounting-service class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>AccountingService</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Chart of Accounts
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>createAccount</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>CreateAccountCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>Account</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updateAccount</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>UpdateAccountCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>Account</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getAccountHierarchy</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>AccountHierarchyQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>AccountTree</span>&gt;;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Journal Entries
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>createJournalEntry</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>CreateJournalEntryCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>JournalEntry</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>postJournalEntry</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>PostJournalEntryCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>void</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>reverseJournalEntry</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>ReverseJournalEntryCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>JournalEntry</span>&gt;;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Financial Reports
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>generateTrialBalance</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>TrialBalanceQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>TrialBalanceReport</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>generateBalanceSheet</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>BalanceSheetQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>BalanceSheetReport</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>generateIncomeStatement</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>IncomeStatementQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>IncomeStatementReport</span>&gt;;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h4>2. Inventory Service<span class="hx:absolute hx:-mt-20" id=2-inventory-service></span>
<a href=#2-inventory-service class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>InventoryService</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Product Management
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>createProduct</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>CreateProductCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>Product</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updateProduct</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>UpdateProductCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>Product</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getProducts</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>ProductListQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>ProductList</span>&gt;;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Stock Management
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>adjustStock</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>StockAdjustmentCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>StockMovement</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>transferStock</span>(<span style=color:#a6e22e>command</span>: <span style=color:#66d9ef>StockTransferCommand</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>StockMovement</span>&gt;;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getStockLevels</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>StockLevelsQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>StockLevel</span><span style=color:#960050;background-color:#1e0010>[]</span>&gt;;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Valuation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>calculateStockValuation</span>(<span style=color:#a6e22e>query</span>: <span style=color:#66d9ef>StockValuationQuery</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>StockValuationReport</span>&gt;;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Integration Services<span class="hx:absolute hx:-mt-20" id=integration-services></span>
<a href=#integration-services class=subheading-anchor aria-label="Permalink for this section"></a></h3><h4>API Gateway Configuration<span class="hx:absolute hx:-mt-20" id=api-gateway-configuration></span>
<a href=#api-gateway-configuration class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># api-gateway.yaml</span>
</span></span><span style=display:flex><span><span style=color:#f92672>routes</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/api/v1/auth/*&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>service</span>: <span style=color:#e6db74>&#34;authentication-service&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>middleware</span>: [<span style=color:#e6db74>&#34;rate-limiting&#34;</span>, <span style=color:#e6db74>&#34;cors&#34;</span>]
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  - <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/api/v1/companies/*&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>service</span>: <span style=color:#e6db74>&#34;company-service&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>middleware</span>: [<span style=color:#e6db74>&#34;authentication&#34;</span>, <span style=color:#e6db74>&#34;tenant-context&#34;</span>, <span style=color:#e6db74>&#34;authorization&#34;</span>]
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  - <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/api/v1/accounting/*&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>service</span>: <span style=color:#e6db74>&#34;accounting-service&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>middleware</span>: [<span style=color:#e6db74>&#34;authentication&#34;</span>, <span style=color:#e6db74>&#34;tenant-context&#34;</span>, <span style=color:#e6db74>&#34;authorization&#34;</span>, <span style=color:#e6db74>&#34;audit&#34;</span>]
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  - <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/api/v1/inventory/*&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>service</span>: <span style=color:#e6db74>&#34;inventory-service&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>middleware</span>: [<span style=color:#e6db74>&#34;authentication&#34;</span>, <span style=color:#e6db74>&#34;tenant-context&#34;</span>, <span style=color:#e6db74>&#34;authorization&#34;</span>, <span style=color:#e6db74>&#34;audit&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>middleware</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>authentication</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;jwt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>issuer</span>: <span style=color:#e6db74>&#34;https://auth.bigledger.com&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>authorization</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;rbac&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>permissions</span>: <span style=color:#e6db74>&#34;api-permissions&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#f92672>rate-limiting</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>requests-per-minute</span>: <span style=color:#ae81ff>1000</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>burst-limit</span>: <span style=color:#ae81ff>100</span></span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Data Architecture<span class="hx:absolute hx:-mt-20" id=data-architecture></span>
<a href=#data-architecture class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Database Design<span class="hx:absolute hx:-mt-20" id=database-design></span>
<a href=#database-design class=subheading-anchor aria-label="Permalink for this section"></a></h3><h4>Primary Database (PostgreSQL)<span class="hx:absolute hx:-mt-20" id=primary-database-postgresql></span>
<a href=#primary-database-postgresql class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- Multi-tenant schema structure
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>SCHEMA</span> tenant_001;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Core entities with audit fields
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> tenant_001.companies (
</span></span><span style=display:flex><span>    id UUID <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>DEFAULT</span> gen_random_uuid(),
</span></span><span style=display:flex><span>    name VARCHAR(<span style=color:#ae81ff>255</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    registration_number VARCHAR(<span style=color:#ae81ff>100</span>),
</span></span><span style=display:flex><span>    tax_number VARCHAR(<span style=color:#ae81ff>100</span>),
</span></span><span style=display:flex><span>    currency_code VARCHAR(<span style=color:#ae81ff>3</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;USD&#39;</span>,
</span></span><span style=display:flex><span>    timezone VARCHAR(<span style=color:#ae81ff>100</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;UTC&#39;</span>,
</span></span><span style=display:flex><span>    created_at <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>WITH</span> TIME <span style=color:#66d9ef>ZONE</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> NOW(),
</span></span><span style=display:flex><span>    updated_at <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>WITH</span> TIME <span style=color:#66d9ef>ZONE</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> NOW(),
</span></span><span style=display:flex><span>    created_by UUID <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    updated_by UUID <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>version</span> INTEGER <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> tenant_001.chart_of_accounts (
</span></span><span style=display:flex><span>    id UUID <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>DEFAULT</span> gen_random_uuid(),
</span></span><span style=display:flex><span>    company_id UUID <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>REFERENCES</span> tenant_001.companies(id),
</span></span><span style=display:flex><span>    account_code VARCHAR(<span style=color:#ae81ff>20</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    account_name VARCHAR(<span style=color:#ae81ff>255</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    account_type account_type_enum <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    parent_account_id UUID <span style=color:#66d9ef>REFERENCES</span> tenant_001.chart_of_accounts(id),
</span></span><span style=display:flex><span>    is_active BOOLEAN <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>TRUE</span>,
</span></span><span style=display:flex><span>    created_at <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>WITH</span> TIME <span style=color:#66d9ef>ZONE</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> NOW(),
</span></span><span style=display:flex><span>    updated_at <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>WITH</span> TIME <span style=color:#66d9ef>ZONE</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> NOW(),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>UNIQUE</span>(company_id, account_code)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> tenant_001.transactions (
</span></span><span style=display:flex><span>    id UUID <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>DEFAULT</span> gen_random_uuid(),
</span></span><span style=display:flex><span>    company_id UUID <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>REFERENCES</span> tenant_001.companies(id),
</span></span><span style=display:flex><span>    transaction_date DATE <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    reference VARCHAR(<span style=color:#ae81ff>100</span>),
</span></span><span style=display:flex><span>    description TEXT,
</span></span><span style=display:flex><span>    total_amount DECIMAL(<span style=color:#ae81ff>19</span>,<span style=color:#ae81ff>4</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    currency_code VARCHAR(<span style=color:#ae81ff>3</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    status transaction_status_enum <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;draft&#39;</span>,
</span></span><span style=display:flex><span>    created_at <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>WITH</span> TIME <span style=color:#66d9ef>ZONE</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> NOW(),
</span></span><span style=display:flex><span>    updated_at <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>WITH</span> TIME <span style=color:#66d9ef>ZONE</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>DEFAULT</span> NOW()
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Caching Strategy<span class="hx:absolute hx:-mt-20" id=caching-strategy></span>
<a href=#caching-strategy class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CacheStrategy</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Application Cache (Redis)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>userSessions</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ttl</span>: <span style=color:#66d9ef>24</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>; <span style=color:#75715e>// 24 hours
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>keyPattern</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;session:{userId}:{sessionId}&#34;</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Query Cache
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>chartOfAccounts</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ttl</span>: <span style=color:#66d9ef>60</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>; <span style=color:#75715e>// 1 hour
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>keyPattern</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;coa:{tenantId}:{companyId}&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>invalidateOn</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;AccountCreated&#34;</span>, <span style=color:#e6db74>&#34;AccountUpdated&#34;</span>];
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// API Response Cache
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>reports</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ttl</span>: <span style=color:#66d9ef>15</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>; <span style=color:#75715e>// 15 minutes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>keyPattern</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;report:{reportType}:{hash}&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>invalidateOn</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;TransactionPosted&#34;</span>];
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Search Architecture (Elasticsearch)<span class="hx:absolute hx:-mt-20" id=search-architecture-elasticsearch></span>
<a href=#search-architecture-elasticsearch class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;mappings&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;properties&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;tenant_id&#34;</span>: { <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;keyword&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;entity_type&#34;</span>: { <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;keyword&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;entity_id&#34;</span>: { <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;keyword&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;title&#34;</span>: { 
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;text&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;analyzer&#34;</span>: <span style=color:#e6db74>&#34;standard&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;content&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;text&#34;</span>, 
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;analyzer&#34;</span>: <span style=color:#e6db74>&#34;standard&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;tags&#34;</span>: { <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;keyword&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;created_at&#34;</span>: { <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;date&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;metadata&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;object&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;dynamic&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Security Architecture<span class="hx:absolute hx:-mt-20" id=security-architecture></span>
<a href=#security-architecture class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Authentication & Authorization<span class="hx:absolute hx:-mt-20" id=authentication--authorization></span>
<a href=#authentication--authorization class=subheading-anchor aria-label="Permalink for this section"></a></h3><pre class="mermaid hx:mt-6">
  graph LR
    subgraph &#34;Authentication Flow&#34;
        A[Client] --&gt; B[OAuth Provider]
        B --&gt; C[JWT Token]
        C --&gt; D[API Gateway]
    end
    
    subgraph &#34;Authorization&#34;
        D --&gt; E[RBAC Engine]
        E --&gt; F[Permission Check]
        F --&gt; G[Resource Access]
    end
    
    subgraph &#34;Audit&#34;
        G --&gt; H[Audit Log]
        H --&gt; I[Security Monitoring]
    end
</pre><h4>Role-Based Access Control (RBAC)<span class="hx:absolute hx:-mt-20" id=role-based-access-control-rbac></span>
<a href=#role-based-access-control-rbac class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Permission</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>resource</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>action</span>: <span style=color:#66d9ef>string</span>; <span style=color:#75715e>// create, read, update, delete
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>conditions?</span>: <span style=color:#66d9ef>PermissionCondition</span>[];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Role</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>description</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>permissions</span>: <span style=color:#66d9ef>Permission</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>inherits?</span>: <span style=color:#66d9ef>Role</span>[];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>User</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tenantId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>roles</span>: <span style=color:#66d9ef>Role</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>companyAccess</span>: <span style=color:#66d9ef>CompanyAccess</span>[];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CompanyAccess</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>companyId</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>roles</span>: <span style=color:#66d9ef>Role</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>permissions</span>: <span style=color:#66d9ef>Permission</span>[];
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Data Protection<span class="hx:absolute hx:-mt-20" id=data-protection></span>
<a href=#data-protection class=subheading-anchor aria-label="Permalink for this section"></a></h3><h4>Encryption at Rest<span class="hx:absolute hx:-mt-20" id=encryption-at-rest></span>
<a href=#encryption-at-rest class=subheading-anchor aria-label="Permalink for this section"></a></h4><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>EncryptionStrategy</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Database encryption
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>database</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>algorithm</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;AES-256-GCM&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>keyRotation</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;monthly&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fields</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;tax_number&#34;</span>, <span style=color:#e6db74>&#34;bank_account&#34;</span>, <span style=color:#e6db74>&#34;personal_data&#34;</span>];
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// File encryption
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>files</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>algorithm</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;AES-256-CBC&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>keyManagement</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;AWS-KMS&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fileTypes</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;documents&#34;</span>, <span style=color:#e6db74>&#34;reports&#34;</span>, <span style=color:#e6db74>&#34;backups&#34;</span>];
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// API encryption
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>api</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>transport</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;TLS-1.3&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>certificateValidation</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;strict&#34;</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Scalability & Performance<span class="hx:absolute hx:-mt-20" id=scalability--performance></span>
<a href=#scalability--performance class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Horizontal Scaling<span class="hx:absolute hx:-mt-20" id=horizontal-scaling></span>
<a href=#horizontal-scaling class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Kubernetes deployment configuration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>accounting-service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>accounting-service</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>template</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>accounting-service</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>bigledger/accounting-service:v2.1.0</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>resources</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>requests</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>memory</span>: <span style=color:#e6db74>&#34;256Mi&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>cpu</span>: <span style=color:#e6db74>&#34;250m&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>limits</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>memory</span>: <span style=color:#e6db74>&#34;512Mi&#34;</span> 
</span></span><span style=display:flex><span>            <span style=color:#f92672>cpu</span>: <span style=color:#e6db74>&#34;500m&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>DATABASE_URL</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>valueFrom</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>secretKeyRef</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>name</span>: <span style=color:#ae81ff>db-credentials</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>key</span>: <span style=color:#ae81ff>url</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>accounting-service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>app</span>: <span style=color:#ae81ff>accounting-service</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>port</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>targetPort</span>: <span style=color:#ae81ff>3000</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling/v2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>HorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>accounting-service-hpa</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleTargetRef</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>accounting-service</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minReplicas</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>maxReplicas</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Resource</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>resource</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>cpu</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Utilization</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>averageUtilization</span>: <span style=color:#ae81ff>70</span></span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Database Scaling<span class="hx:absolute hx:-mt-20" id=database-scaling></span>
<a href=#database-scaling class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>DatabaseScaling</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Read Replicas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>readReplicas</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>count</span>: <span style=color:#66d9ef>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>regions</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;us-east-1&#34;</span>, <span style=color:#e6db74>&#34;eu-west-1&#34;</span>, <span style=color:#e6db74>&#34;ap-southeast-1&#34;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lagTolerance</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;1 second&#34;</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Connection Pooling
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>connectionPool</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maxConnections</span>: <span style=color:#66d9ef>100</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>idleTimeout</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;10 minutes&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>poolMode</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;transaction&#34;</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Partitioning Strategy
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>partitioning</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>transactions</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>strategy</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;range&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>column</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;transaction_date&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>interval</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;monthly&#34;</span>;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>audit_logs</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>strategy</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;hash&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>column</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;tenant_id&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>partitions</span>: <span style=color:#66d9ef>16</span>;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Monitoring & Observability<span class="hx:absolute hx:-mt-20" id=monitoring--observability></span>
<a href=#monitoring--observability class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Application Metrics<span class="hx:absolute hx:-mt-20" id=application-metrics></span>
<a href=#application-metrics class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MetricsCollection</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Business Metrics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>business</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>transactions_per_minute</span>: <span style=color:#66d9ef>Counter</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>invoice_processing_time</span>: <span style=color:#66d9ef>Histogram</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>user_session_duration</span>: <span style=color:#66d9ef>Histogram</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>api_error_rate</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Technical Metrics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>technical</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>database_connection_pool</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cache_hit_rate</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>memory_usage</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpu_utilization</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// SLA Metrics
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>sla</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>api_response_time_p95</span>: <span style=color:#66d9ef>Histogram</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>service_availability</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>error_budget_remaining</span>: <span style=color:#66d9ef>Gauge</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h3>Distributed Tracing<span class="hx:absolute hx:-mt-20" id=distributed-tracing></span>
<a href=#distributed-tracing class=subheading-anchor aria-label="Permalink for this section"></a></h3><pre class="mermaid hx:mt-6">
  gantt
    title Request Trace Timeline
    dateFormat X
    axisFormat %Lms
    
    section API Gateway
    Authentication : 0, 50
    
    section Accounting Service  
    Process Request : 50, 200
    Database Query : 100, 180
    
    section Event Bus
    Publish Event : 200, 220
    
    section Webhook Service
    Send Webhook : 220, 300
</pre><h3>Logging Strategy<span class="hx:absolute hx:-mt-20" id=logging-strategy></span>
<a href=#logging-strategy class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;timestamp&#34;</span>: <span style=color:#e6db74>&#34;2024-01-15T10:30:00.000Z&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;level&#34;</span>: <span style=color:#e6db74>&#34;info&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;service&#34;</span>: <span style=color:#e6db74>&#34;accounting-service&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;tenantId&#34;</span>: <span style=color:#e6db74>&#34;tenant_001&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;userId&#34;</span>: <span style=color:#e6db74>&#34;user_123&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;requestId&#34;</span>: <span style=color:#e6db74>&#34;req_456789&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;traceId&#34;</span>: <span style=color:#e6db74>&#34;trace_abc123&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;spanId&#34;</span>: <span style=color:#e6db74>&#34;span_def456&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;event&#34;</span>: <span style=color:#e6db74>&#34;invoice_created&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;message&#34;</span>: <span style=color:#e6db74>&#34;Invoice created successfully&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;invoiceId&#34;</span>: <span style=color:#e6db74>&#34;inv_789&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;customerId&#34;</span>: <span style=color:#e6db74>&#34;cust_456&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;amount&#34;</span>: <span style=color:#ae81ff>1250.00</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;currency&#34;</span>: <span style=color:#e6db74>&#34;USD&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;duration&#34;</span>: <span style=color:#ae81ff>145</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;success&#34;</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><h2>Deployment Architecture<span class="hx:absolute hx:-mt-20" id=deployment-architecture></span>
<a href=#deployment-architecture class=subheading-anchor aria-label="Permalink for this section"></a></h2><h3>Cloud Infrastructure<span class="hx:absolute hx:-mt-20" id=cloud-infrastructure></span>
<a href=#cloud-infrastructure class=subheading-anchor aria-label="Permalink for this section"></a></h3><pre class="mermaid hx:mt-6">
  graph TB
    subgraph &#34;Production Environment&#34;
        subgraph &#34;US East Region&#34;
            LB1[Load Balancer]
            API1[API Gateway Cluster]
            SVC1[Service Cluster]
            DB1[(Primary Database)]
            CACHE1[(Cache Cluster)]
        end
        
        subgraph &#34;EU West Region&#34;
            LB2[Load Balancer]
            API2[API Gateway Cluster]
            SVC2[Service Cluster] 
            DB2[(Read Replica)]
            CACHE2[(Cache Cluster)]
        end
        
        subgraph &#34;Asia Pacific Region&#34;
            LB3[Load Balancer]
            API3[API Gateway Cluster]
            SVC3[Service Cluster]
            DB3[(Read Replica)]
            CACHE3[(Cache Cluster)]
        end
    end
    
    CDN[Global CDN]
    DNS[DNS &amp; Routing]
    
    DNS --&gt; CDN
    CDN --&gt; LB1
    CDN --&gt; LB2
    CDN --&gt; LB3
    
    DB1 --&gt; DB2
    DB1 --&gt; DB3
</pre><h3>Disaster Recovery<span class="hx:absolute hx:-mt-20" id=disaster-recovery></span>
<a href=#disaster-recovery class=subheading-anchor aria-label="Permalink for this section"></a></h3><div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"><div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>DisasterRecoveryPlan</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Recovery Objectives
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rto</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;4 hours&#34;</span>; <span style=color:#75715e>// Recovery Time Objective
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rpo</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;1 hour&#34;</span>;  <span style=color:#75715e>// Recovery Point Objective
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Backup Strategy
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>backups</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>database</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>frequency</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;continuous&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>retention</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;7 days point-in-time, 90 days daily&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>crossRegion</span>: <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>files</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>frequency</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;realtime&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>retention</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;30 days&#34;</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>encryption</span>: <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Failover Process
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>failover</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>automated</span>: <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>healthChecks</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;database&#34;</span>, <span style=color:#e6db74>&#34;api&#34;</span>, <span style=color:#e6db74>&#34;cache&#34;</span>];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>notificationChannels</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;slack&#34;</span>, <span style=color:#e6db74>&#34;email&#34;</span>, <span style=color:#e6db74>&#34;sms&#34;</span>];
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"><button class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50" title="Copy code"><div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"></div><div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"></div></button></div></div><p>This architecture overview provides the foundation for understanding how BigLedger scales, ensures security, and maintains high availability for enterprise deployments. For specific implementation details, refer to the specialized architecture documents for each domain.</p></div></div></article></main><footer class=corporate-footer><div class=container><div class=footer-grid><div class=footer-column><img src=https://www.bigledger.com/images/bigledger-logo-cropped.png alt="BigLedger - Complete Business Management Platform" height=32 style=margin-bottom:16px><p>Complete Business Management Platform - ERP, POS, E-Commerce & More</p></div><div class=footer-column><h4>Product</h4><ul><li><a href=https://www.bigledger.com/solutions>Solutions</a></li><li><a href=https://www.bigledger.com/pricing>Pricing</a></li><li><a href=https://www.bigledger.com/developers>Developers</a></li></ul></div><div class=footer-column><h4>Company</h4><ul><li><a href=https://www.bigledger.com/about>About</a></li><li><a href=https://www.bigledger.com/contact>Contact</a></li></ul></div><div class=footer-column><h4>Connect</h4><ul><li><a href=https://github.com/bigledger target=_blank>Github</a></li><li><a href=https://twitter.com/bigledger target=_blank>Twitter</a></li></ul></div></div><div class=footer-bottom><p>&copy; 2025 BigLedger. All rights reserved.</p></div></div></footer></body></html>